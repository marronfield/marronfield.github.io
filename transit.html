<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1">

    <style>
        :root {
            --text: #333;
            --text-link: #1558d6;
            --text-link-active: #0f3f99;
            --background: #fff;
            --border: #ccc;
            --shadow: rgba(63, 63, 63, 0.2);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ccc;
                --text-link: #8ab4f8;
                --text-link-active: #6382b3;
                --background: #111;
                --border: #444;
                --shadow: rgba(192, 192, 192, 0.2);
            }
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            position: relative;
        }

        body {
            background-color: var(--background);
            color: var(--text);

            display: grid;
            place-items: center;
        }

        #content {
            width: min(100%, 400px);

            display: grid;
            gap: 10px;
            padding: 10px;

            font-family: Helvetica, sans-serif;
        }

        .timetable-title {
            background-color: var(--border);
            border-radius: 5px 5px 0 0;
            font-weight: bold;
            padding: 0.25em 0.5em;
        }

        .timetable-table {
            height: 12.5em;

            border: 1px solid var(--border);
            border-radius: 0 0 5px 5px;
            border-top: none;
            overflow-y: auto;
            padding: 0.25em;
        }

        .timetable-item {
            border-top: 1px solid var(--border);

            display: flex;
            align-items: center;
            padding: 0.25em;
        }

        .timetable-item:first-child{
            border-top: none;
        }

        .add-button {
            height: 2em;

            border: 1px solid var(--border);
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            
            display: grid;
            place-items: center;
        }

        .pointer {
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div id="content"></div>

    <script>
        onload = async () => {
            const GAS_API_URL = "https://script.google.com/macros/s/AKfycbwafFs2y7IvfL2OkU_-Z7PfQJGwfYjxxptibbApEtGJjL5BFDPVqAUhKxvXUJ7stle_mw/exec";
            const depArrList = JSON.parse(localStorage.getItem("depArrList") || "null") || [
                {
                    depName: "八木山神社前",
                    arrName: "青葉山",
                },
                {
                    depName: "青葉山",
                    arrName: "八木山神社前",
                },
                {
                    depName: "八木山神社前",
                    arrName: "工学部中央",
                },
                {
                    depName: "工学部中央",
                    arrName: "八木山神社前",
                },
            ];

            const strTime = (time, type) => {
                const h = Math.floor(time / 60);
                const m = time % 60;

                if (type === "interval") {
                    if (h > 0) return `${h}時間${m}分`;
                    else return `${m}分`;
                }
                else {
                    return ("0" + h).slice(-2) + ":" + ("0" + m).slice(-2);
                }
            };
            const seekRoutes = (nodeList, depName, arrName) => {
                const routes = [];
                const depNode = nodeList.find(node => node.name === depName);
                const arrNode = nodeList.find(node => node.name === arrName);
                const rec = (depNode, route = []) => {
                    if (depNode === arrNode) {
                        routes.push([...route, { name: arrNode.name }]);
                        return;
                    }

                    depNode.nodes.forEach(adjNode => {
                        if (route.some(node => node.name === adjNode.name)) return;

                        adjNode.edges.forEach(edge => {
                            if (edge.name !== "徒歩" && route.some(node => node.edge.name === edge.name)) return;

                            const new_depNode = nodeList.find(node => node.name === adjNode.name);
                            const new_route = [...route, { name: depNode.name, edge }];
                            rec(new_depNode, new_route);
                        });
                    });
                }
                rec(depNode);

                return routes;
            };
            const routeToSeqList = (route, margin = 0) => {
                const firstTimedIndex = route.findIndex(node => node.edge.name !== "徒歩");
                if (firstTimedIndex === -1) return [];

                const seqList = route[firstTimedIndex].edge.depArrTimeList.map(
                    ([depTime, arrTime]) => route.map(
                        (node, i) => (
                            i === firstTimedIndex ? { ...node, depTime }
                                : i === firstTimedIndex + 1 ? { ...node, arrTime }
                                    : { ...node }
                        )
                    )
                );

                seqList.forEach(seq => {
                    for (let i = firstTimedIndex - 1; i >= 0; i--) {
                        seq[i].depTime = seq[i + 1].depTime - (seq[i].edge.duration + margin);
                        seq[i + 1].arrTime = seq[i + 1].depTime;
                    }
                    for (let i = firstTimedIndex + 1; i < seq.length - 1; i++) {
                        if (seq[i].edge.name === "徒歩") {
                            seq[i].depTime = seq[i].arrTime;
                            seq[i + 1].arrTime = seq[i].arrTime + (seq[i].edge.duration + margin);
                        }
                        else {
                            const depArrTime = seq[i].edge.depArrTimeList.find(
                                ([depTime, _]) => seq[i].arrTime + margin <= depTime
                            );
                            if (!depArrTime) return;

                            [seq[i].depTime, seq[i + 1].arrTime] = depArrTime;
                        }
                    }
                });

                return seqList.filter(seq => seq.slice(-1)[0].arrTime !== undefined);
            };
            const display = nodeList => {
                const content = document.getElementById("content");

                depArrList.forEach(depArr => {
                    const { depName, arrName } = depArr;

                    const routes = seekRoutes(nodeList, depName, arrName);
                    const allSeqList0 = routes.map(route => routeToSeqList(route)).flat();
                    const allSeqList = allSeqList0.filter(seq => !allSeqList0.some(seq2 => (
                        seq[0].depTime <= seq2[0].depTime
                        && seq.slice(-1)[0].arrTime >= seq2.slice(-1)[0].arrTime
                        && !(
                            seq[0].depTime === seq2[0].depTime
                            && seq.slice(-1)[0].arrTime === seq2.slice(-1)[0].arrTime
                        )
                    )));
                    allSeqList.sort((seq1, seq2) => seq1[0].depTime - seq2[0].depTime);

                    const div = document.createElement("div");

                    div.append(
                        (() => {
                            const div = document.createElement("div");

                            div.classList.add("timetable-title");
                            div.textContent = depName + " ⇒ " + arrName;

                            return div;
                        })(),
                        (() => {
                            const div = document.createElement("div");

                            div.classList.add("timetable-table");
                            div.append(...allSeqList.map(seq => {
                                const div = document.createElement("div");

                                div.classList.add("timetable-item");
                                div.append(
                                    (() => {
                                        const div = document.createElement("div");

                                        div.style = `
                                            white-space: nowrap;
                                        `;
                                        div.innerHTML = `
                                            ${strTime(seq[0].depTime).big().big().bold()}発 → 
                                            ${strTime(seq.slice(-1)[0].arrTime).big().big().bold()}着
                                             (${strTime(seq.slice(-1)[0].arrTime - seq[0].depTime, "interval")})
                                        `;

                                        return div;
                                    })(),
                                    (() => {
                                        const div = document.createElement("div");

                                        div.style = `
                                            padding-left: 0.5em;
                                            line-height: 0.8em;
                                        `
                                        div.innerHTML = seq.filter(node => node.edge).map(node => node.edge.shortName || node.edge.name).join(", ").small().small();

                                        return div;
                                    })(),
                                );

                                return div;
                            }));

                            return div;
                        })(),
                        (() => {
                            const delIcon = document.createElement("div");

                            delIcon.style = `
                                position: absolute;
                                right: 5px;
                                top: -2px;

                                font-size: 2em;
                            `;
                            delIcon.classList.add("pointer");
                            delIcon.textContent = "×";
                            delIcon.onclick = () => {
                                if (confirm("削除しますか？")) {
                                    div.remove();
                                    depArrList.splice(depArrList.indexOf(depArr), 1);

                                    localStorage.setItem("depArrList", JSON.stringify(depArrList));
                                }
                            };

                            return delIcon;
                        })()
                    );

                    content.append(div);
                });

                content.append((() => {
                    const div = document.createElement("div");

                    div.classList.add("add-button");
                    div.textContent = "+ 追加";
                    div.onclick = () => {
                        alert("準備中です");
                    };

                    return div;
                })());
            };

            const nodeList = [
                {
                    "name": "八木山動物公園駅",
                    "nodes": [
                        {
                            "name": "八木山神社前",
                            "edges": [
                                {
                                    "name": "J701/J704/J706〔八木山動物公園-交通局東北大病院〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144827&arrival=00144353&line=00033098",
                                    "depArrTimeList": [
                                        [
                                            374,
                                            379
                                        ],
                                        [
                                            411,
                                            416
                                        ],
                                        [
                                            423,
                                            428
                                        ],
                                        [
                                            446,
                                            452
                                        ],
                                        [
                                            467,
                                            474
                                        ],
                                        [
                                            479,
                                            486
                                        ],
                                        [
                                            484,
                                            491
                                        ],
                                        [
                                            505,
                                            512
                                        ],
                                        [
                                            530,
                                            535
                                        ],
                                        [
                                            546,
                                            552
                                        ],
                                        [
                                            563,
                                            569
                                        ],
                                        [
                                            593,
                                            599
                                        ],
                                        [
                                            606,
                                            612
                                        ],
                                        [
                                            636,
                                            642
                                        ],
                                        [
                                            653,
                                            659
                                        ],
                                        [
                                            666,
                                            672
                                        ],
                                        [
                                            696,
                                            702
                                        ],
                                        [
                                            713,
                                            719
                                        ],
                                        [
                                            726,
                                            732
                                        ],
                                        [
                                            756,
                                            762
                                        ],
                                        [
                                            773,
                                            779
                                        ],
                                        [
                                            786,
                                            792
                                        ],
                                        [
                                            816,
                                            822
                                        ],
                                        [
                                            833,
                                            839
                                        ],
                                        [
                                            846,
                                            852
                                        ],
                                        [
                                            876,
                                            882
                                        ],
                                        [
                                            893,
                                            899
                                        ],
                                        [
                                            906,
                                            912
                                        ],
                                        [
                                            923,
                                            929
                                        ],
                                        [
                                            940,
                                            946
                                        ],
                                        [
                                            953,
                                            959
                                        ],
                                        [
                                            966,
                                            972
                                        ],
                                        [
                                            985,
                                            991
                                        ],
                                        [
                                            995,
                                            1001
                                        ],
                                        [
                                            1013,
                                            1019
                                        ],
                                        [
                                            1025,
                                            1031
                                        ],
                                        [
                                            1047,
                                            1053
                                        ],
                                        [
                                            1055,
                                            1061
                                        ],
                                        [
                                            1076,
                                            1082
                                        ],
                                        [
                                            1090,
                                            1096
                                        ],
                                        [
                                            1112,
                                            1118
                                        ],
                                        [
                                            1132,
                                            1138
                                        ],
                                        [
                                            1150,
                                            1155
                                        ],
                                        [
                                            1172,
                                            1177
                                        ],
                                        [
                                            1200,
                                            1205
                                        ],
                                        [
                                            1220,
                                            1225
                                        ],
                                        [
                                            1270,
                                            1275
                                        ],
                                        [
                                            1300,
                                            1305
                                        ]
                                    ]
                                },
                                {
                                    "name": "K601他〔八木山動物公園駅-交通局東北大学病院〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144827&arrival=00144353&line=00033089",
                                    "depArrTimeList": [
                                        [
                                            395,
                                            400
                                        ],
                                        [
                                            459,
                                            466
                                        ],
                                        [
                                            488,
                                            495
                                        ],
                                        [
                                            618,
                                            624
                                        ],
                                        [
                                            798,
                                            804
                                        ],
                                        [
                                            858,
                                            864
                                        ],
                                        [
                                            918,
                                            924
                                        ],
                                        [
                                            932,
                                            938
                                        ],
                                        [
                                            948,
                                            954
                                        ],
                                        [
                                            975,
                                            981
                                        ],
                                        [
                                            1065,
                                            1071
                                        ]
                                    ]
                                },
                                {
                                    "name": "S601他〔八木山動物公園駅-仙台駅前〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144827&arrival=00144353&line=00033090",
                                    "depArrTimeList": [
                                        [
                                            438,
                                            444
                                        ],
                                        [
                                            516,
                                            521
                                        ],
                                        [
                                            558,
                                            564
                                        ],
                                        [
                                            678,
                                            684
                                        ],
                                        [
                                            738,
                                            744
                                        ],
                                        [
                                            1005,
                                            1011
                                        ],
                                        [
                                            1035,
                                            1041
                                        ],
                                        [
                                            1122,
                                            1128
                                        ],
                                        [
                                            1180,
                                            1185
                                        ],
                                        [
                                            1240,
                                            1245
                                        ],
                                        [
                                            1285,
                                            1290
                                        ]
                                    ]
                                },
                                {
                                    "name": "36〔長町四丁目長町営業所-日赤病院〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144827&arrival=00144353&line=00032943",
                                    "depArrTimeList": [
                                        [
                                            595,
                                            601
                                        ],
                                        [
                                            655,
                                            661
                                        ],
                                        [
                                            835,
                                            841
                                        ]
                                    ]
                                },
                                {
                                    "name": "太白八木山線[宮城交通]",
                                    "shortName": "宮城交通バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144827&arrival=00144353&line=00072451",
                                    "depArrTimeList": [
                                        [
                                            476,
                                            484
                                        ],
                                        [
                                            673,
                                            681
                                        ],
                                        [
                                            733,
                                            741
                                        ],
                                        [
                                            793,
                                            801
                                        ],
                                        [
                                            853,
                                            861
                                        ],
                                        [
                                            913,
                                            921
                                        ],
                                        [
                                            973,
                                            981
                                        ]
                                    ]
                                },
                                {
                                    "name": "八木山動物公園線[宮城交通]",
                                    "shortName": "宮城交通バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144827&arrival=00144353&line=00072461",
                                    "depArrTimeList": [
                                        [
                                            455,
                                            463
                                        ],
                                        [
                                            508,
                                            516
                                        ],
                                        [
                                            574,
                                            582
                                        ],
                                        [
                                            621,
                                            629
                                        ],
                                        [
                                            681,
                                            689
                                        ],
                                        [
                                            741,
                                            749
                                        ],
                                        [
                                            801,
                                            809
                                        ],
                                        [
                                            861,
                                            869
                                        ],
                                        [
                                            934,
                                            942
                                        ],
                                        [
                                            981,
                                            989
                                        ],
                                        [
                                            1050,
                                            1058
                                        ],
                                        [
                                            1117,
                                            1125
                                        ],
                                        [
                                            1167,
                                            1175
                                        ],
                                        [
                                            1226,
                                            1234
                                        ],
                                        [
                                            1246,
                                            1254
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "工学部中央",
                            "edges": [
                                {
                                    "name": "10〔八木山動物公園駅-青葉台〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144827&arrival=00144422&line=00032888",
                                    "depArrTimeList": [
                                        [
                                            468,
                                            476
                                        ],
                                        [
                                            504,
                                            512
                                        ],
                                        [
                                            586,
                                            593
                                        ],
                                        [
                                            648,
                                            655
                                        ],
                                        [
                                            708,
                                            715
                                        ],
                                        [
                                            768,
                                            775
                                        ],
                                        [
                                            828,
                                            835
                                        ],
                                        [
                                            888,
                                            895
                                        ],
                                        [
                                            948,
                                            955
                                        ],
                                        [
                                            1008,
                                            1015
                                        ],
                                        [
                                            1068,
                                            1075
                                        ],
                                        [
                                            1128,
                                            1135
                                        ],
                                        [
                                            1188,
                                            1195
                                        ],
                                        [
                                            1248,
                                            1255
                                        ],
                                        [
                                            1308,
                                            1315
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "八木山動物公園",
                            "edges": [
                                {
                                    "name": "徒歩",
                                    "duration": 3
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "八木山神社前",
                    "nodes": [
                        {
                            "name": "八木山動物公園駅",
                            "edges": [
                                {
                                    "name": "701/704/706〔交通局東北大学病院-八木山動物公園〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144827&line=00033097",
                                    "depArrTimeList": [
                                        [
                                            417,
                                            423
                                        ],
                                        [
                                            444,
                                            450
                                        ],
                                        [
                                            461,
                                            467
                                        ],
                                        [
                                            474,
                                            482
                                        ],
                                        [
                                            484,
                                            492
                                        ],
                                        [
                                            492,
                                            500
                                        ],
                                        [
                                            499,
                                            507
                                        ],
                                        [
                                            510,
                                            518
                                        ],
                                        [
                                            535,
                                            543
                                        ],
                                        [
                                            565,
                                            573
                                        ],
                                        [
                                            579,
                                            587
                                        ],
                                        [
                                            602,
                                            610
                                        ],
                                        [
                                            625,
                                            633
                                        ],
                                        [
                                            639,
                                            647
                                        ],
                                        [
                                            662,
                                            670
                                        ],
                                        [
                                            685,
                                            693
                                        ],
                                        [
                                            699,
                                            707
                                        ],
                                        [
                                            722,
                                            730
                                        ],
                                        [
                                            745,
                                            758
                                        ],
                                        [
                                            759,
                                            767
                                        ],
                                        [
                                            782,
                                            795
                                        ],
                                        [
                                            805,
                                            818
                                        ],
                                        [
                                            819,
                                            827
                                        ],
                                        [
                                            842,
                                            855
                                        ],
                                        [
                                            865,
                                            878
                                        ],
                                        [
                                            879,
                                            887
                                        ],
                                        [
                                            902,
                                            915
                                        ],
                                        [
                                            925,
                                            938
                                        ],
                                        [
                                            939,
                                            947
                                        ],
                                        [
                                            962,
                                            975
                                        ],
                                        [
                                            982,
                                            990
                                        ],
                                        [
                                            1012,
                                            1020
                                        ],
                                        [
                                            1043,
                                            1051
                                        ],
                                        [
                                            1069,
                                            1077
                                        ],
                                        [
                                            1084,
                                            1092
                                        ],
                                        [
                                            1106,
                                            1114
                                        ],
                                        [
                                            1118,
                                            1126
                                        ],
                                        [
                                            1132,
                                            1140
                                        ],
                                        [
                                            1147,
                                            1155
                                        ],
                                        [
                                            1162,
                                            1170
                                        ],
                                        [
                                            1190,
                                            1198
                                        ],
                                        [
                                            1202,
                                            1210
                                        ],
                                        [
                                            1220,
                                            1228
                                        ],
                                        [
                                            1247,
                                            1255
                                        ],
                                        [
                                            1280,
                                            1287
                                        ],
                                        [
                                            1307,
                                            1313
                                        ],
                                        [
                                            1349,
                                            1355
                                        ],
                                        [
                                            1383,
                                            1389
                                        ]
                                    ]
                                },
                                {
                                    "name": "601〔交通局東北大学病院-八木山動物公園駅〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144827&line=00033088",
                                    "depArrTimeList": [
                                        [
                                            436,
                                            442
                                        ],
                                        [
                                            450,
                                            456
                                        ],
                                        [
                                            467,
                                            474
                                        ],
                                        [
                                            477,
                                            485
                                        ],
                                        [
                                            486,
                                            494
                                        ],
                                        [
                                            493,
                                            501
                                        ],
                                        [
                                            501,
                                            509
                                        ],
                                        [
                                            546,
                                            554
                                        ],
                                        [
                                            613,
                                            621
                                        ],
                                        [
                                            673,
                                            681
                                        ],
                                        [
                                            733,
                                            741
                                        ],
                                        [
                                            793,
                                            801
                                        ],
                                        [
                                            853,
                                            861
                                        ],
                                        [
                                            913,
                                            921
                                        ],
                                        [
                                            973,
                                            981
                                        ],
                                        [
                                            1033,
                                            1041
                                        ],
                                        [
                                            1094,
                                            1102
                                        ],
                                        [
                                            1152,
                                            1160
                                        ],
                                        [
                                            1212,
                                            1220
                                        ],
                                        [
                                            1271,
                                            1278
                                        ],
                                        [
                                            1319,
                                            1325
                                        ]
                                    ]
                                },
                                {
                                    "name": "36〔長町四丁目長町営業所-日赤病院〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144827&line=00032943",
                                    "depArrTimeList": [
                                        [
                                            797,
                                            808
                                        ],
                                        [
                                            857,
                                            868
                                        ],
                                        [
                                            918,
                                            929
                                        ]
                                    ]
                                },
                                {
                                    "name": "太白八木山線[宮城交通]",
                                    "shortName": "宮城交通バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144827&line=00072451",
                                    "depArrTimeList": [
                                        [
                                            613,
                                            626
                                        ],
                                        [
                                            649,
                                            662
                                        ],
                                        [
                                            837,
                                            850
                                        ],
                                        [
                                            897,
                                            910
                                        ],
                                        [
                                            949,
                                            962
                                        ],
                                        [
                                            1017,
                                            1030
                                        ],
                                        [
                                            1075,
                                            1088
                                        ]
                                    ]
                                },
                                {
                                    "name": "八木山動物公園線[宮城交通]",
                                    "shortName": "宮城交通バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144827&line=00072461",
                                    "depArrTimeList": [
                                        [
                                            540,
                                            553
                                        ],
                                        [
                                            627,
                                            640
                                        ],
                                        [
                                            680,
                                            693
                                        ],
                                        [
                                            709,
                                            722
                                        ],
                                        [
                                            769,
                                            782
                                        ],
                                        [
                                            793,
                                            806
                                        ],
                                        [
                                            829,
                                            842
                                        ],
                                        [
                                            889,
                                            902
                                        ],
                                        [
                                            913,
                                            926
                                        ],
                                        [
                                            1005,
                                            1018
                                        ],
                                        [
                                            1040,
                                            1053
                                        ],
                                        [
                                            1098,
                                            1111
                                        ],
                                        [
                                            1157,
                                            1170
                                        ],
                                        [
                                            1238,
                                            1251
                                        ],
                                        [
                                            1311,
                                            1324
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "八木山動物公園東門前",
                            "edges": [
                                {
                                    "name": "701/704/706〔交通局東北大学病院-八木山動物公園〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144828&line=00033097",
                                    "depArrTimeList": [
                                        [
                                            417,
                                            422
                                        ],
                                        [
                                            444,
                                            449
                                        ],
                                        [
                                            461,
                                            466
                                        ],
                                        [
                                            474,
                                            480
                                        ],
                                        [
                                            484,
                                            490
                                        ],
                                        [
                                            492,
                                            498
                                        ],
                                        [
                                            499,
                                            505
                                        ],
                                        [
                                            510,
                                            516
                                        ],
                                        [
                                            535,
                                            541
                                        ],
                                        [
                                            565,
                                            571
                                        ],
                                        [
                                            579,
                                            585
                                        ],
                                        [
                                            602,
                                            608
                                        ],
                                        [
                                            625,
                                            631
                                        ],
                                        [
                                            639,
                                            645
                                        ],
                                        [
                                            662,
                                            668
                                        ],
                                        [
                                            685,
                                            691
                                        ],
                                        [
                                            699,
                                            705
                                        ],
                                        [
                                            722,
                                            728
                                        ],
                                        [
                                            745,
                                            751
                                        ],
                                        [
                                            759,
                                            765
                                        ],
                                        [
                                            782,
                                            788
                                        ],
                                        [
                                            805,
                                            811
                                        ],
                                        [
                                            819,
                                            825
                                        ],
                                        [
                                            842,
                                            848
                                        ],
                                        [
                                            865,
                                            871
                                        ],
                                        [
                                            879,
                                            885
                                        ],
                                        [
                                            902,
                                            908
                                        ],
                                        [
                                            925,
                                            931
                                        ],
                                        [
                                            939,
                                            945
                                        ],
                                        [
                                            962,
                                            968
                                        ],
                                        [
                                            982,
                                            988
                                        ],
                                        [
                                            1012,
                                            1018
                                        ],
                                        [
                                            1043,
                                            1049
                                        ],
                                        [
                                            1069,
                                            1075
                                        ],
                                        [
                                            1084,
                                            1090
                                        ],
                                        [
                                            1106,
                                            1112
                                        ],
                                        [
                                            1118,
                                            1124
                                        ],
                                        [
                                            1132,
                                            1138
                                        ],
                                        [
                                            1147,
                                            1153
                                        ],
                                        [
                                            1162,
                                            1168
                                        ],
                                        [
                                            1190,
                                            1196
                                        ],
                                        [
                                            1202,
                                            1208
                                        ],
                                        [
                                            1220,
                                            1226
                                        ],
                                        [
                                            1247,
                                            1253
                                        ],
                                        [
                                            1280,
                                            1286
                                        ],
                                        [
                                            1307,
                                            1312
                                        ],
                                        [
                                            1349,
                                            1354
                                        ],
                                        [
                                            1383,
                                            1388
                                        ]
                                    ]
                                },
                                {
                                    "name": "601〔交通局東北大学病院-八木山動物公園駅〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144828&line=00033088",
                                    "depArrTimeList": [
                                        [
                                            436,
                                            441
                                        ],
                                        [
                                            450,
                                            455
                                        ],
                                        [
                                            467,
                                            473
                                        ],
                                        [
                                            477,
                                            483
                                        ],
                                        [
                                            486,
                                            492
                                        ],
                                        [
                                            493,
                                            499
                                        ],
                                        [
                                            501,
                                            507
                                        ],
                                        [
                                            546,
                                            552
                                        ],
                                        [
                                            613,
                                            619
                                        ],
                                        [
                                            673,
                                            679
                                        ],
                                        [
                                            733,
                                            739
                                        ],
                                        [
                                            793,
                                            799
                                        ],
                                        [
                                            853,
                                            859
                                        ],
                                        [
                                            913,
                                            919
                                        ],
                                        [
                                            973,
                                            979
                                        ],
                                        [
                                            1033,
                                            1039
                                        ],
                                        [
                                            1094,
                                            1100
                                        ],
                                        [
                                            1152,
                                            1158
                                        ],
                                        [
                                            1212,
                                            1218
                                        ],
                                        [
                                            1271,
                                            1277
                                        ],
                                        [
                                            1319,
                                            1324
                                        ]
                                    ]
                                },
                                {
                                    "name": "36〔長町四丁目長町営業所-日赤病院〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144828&line=00032943",
                                    "depArrTimeList": [
                                        [
                                            797,
                                            802
                                        ],
                                        [
                                            857,
                                            862
                                        ],
                                        [
                                            918,
                                            923
                                        ]
                                    ]
                                },
                                {
                                    "name": "太白八木山線[宮城交通]",
                                    "shortName": "宮城交通バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144828&line=00072451",
                                    "depArrTimeList": [
                                        [
                                            613,
                                            620
                                        ],
                                        [
                                            649,
                                            656
                                        ],
                                        [
                                            837,
                                            844
                                        ],
                                        [
                                            897,
                                            904
                                        ],
                                        [
                                            949,
                                            956
                                        ],
                                        [
                                            1017,
                                            1024
                                        ],
                                        [
                                            1075,
                                            1082
                                        ]
                                    ]
                                },
                                {
                                    "name": "八木山動物公園線[宮城交通]",
                                    "shortName": "宮城交通バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144353&arrival=00144828&line=00072461",
                                    "depArrTimeList": [
                                        [
                                            540,
                                            547
                                        ],
                                        [
                                            627,
                                            634
                                        ],
                                        [
                                            680,
                                            687
                                        ],
                                        [
                                            709,
                                            716
                                        ],
                                        [
                                            769,
                                            776
                                        ],
                                        [
                                            793,
                                            800
                                        ],
                                        [
                                            829,
                                            836
                                        ],
                                        [
                                            889,
                                            896
                                        ],
                                        [
                                            913,
                                            920
                                        ],
                                        [
                                            1005,
                                            1012
                                        ],
                                        [
                                            1040,
                                            1047
                                        ],
                                        [
                                            1098,
                                            1105
                                        ],
                                        [
                                            1157,
                                            1164
                                        ],
                                        [
                                            1238,
                                            1245
                                        ],
                                        [
                                            1311,
                                            1318
                                        ]
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "八木山動物公園東門前",
                    "nodes": [
                        {
                            "name": "八木山神社前",
                            "edges": [
                                {
                                    "name": "J701/J704/J706〔八木山動物公園-交通局東北大病院〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144828&arrival=00144353&line=00033098",
                                    "depArrTimeList": [
                                        [
                                            375,
                                            379
                                        ],
                                        [
                                            412,
                                            416
                                        ],
                                        [
                                            547,
                                            552
                                        ],
                                        [
                                            564,
                                            569
                                        ],
                                        [
                                            594,
                                            599
                                        ],
                                        [
                                            607,
                                            612
                                        ],
                                        [
                                            637,
                                            642
                                        ],
                                        [
                                            654,
                                            659
                                        ],
                                        [
                                            667,
                                            672
                                        ],
                                        [
                                            697,
                                            702
                                        ],
                                        [
                                            714,
                                            719
                                        ],
                                        [
                                            727,
                                            732
                                        ],
                                        [
                                            757,
                                            762
                                        ],
                                        [
                                            774,
                                            779
                                        ],
                                        [
                                            787,
                                            792
                                        ],
                                        [
                                            817,
                                            822
                                        ],
                                        [
                                            834,
                                            839
                                        ],
                                        [
                                            847,
                                            852
                                        ],
                                        [
                                            877,
                                            882
                                        ],
                                        [
                                            894,
                                            899
                                        ],
                                        [
                                            907,
                                            912
                                        ],
                                        [
                                            924,
                                            929
                                        ],
                                        [
                                            941,
                                            946
                                        ],
                                        [
                                            954,
                                            959
                                        ],
                                        [
                                            967,
                                            972
                                        ],
                                        [
                                            986,
                                            991
                                        ],
                                        [
                                            996,
                                            1001
                                        ],
                                        [
                                            1014,
                                            1019
                                        ],
                                        [
                                            1026,
                                            1031
                                        ],
                                        [
                                            1048,
                                            1053
                                        ],
                                        [
                                            1056,
                                            1061
                                        ],
                                        [
                                            1077,
                                            1082
                                        ],
                                        [
                                            1091,
                                            1096
                                        ],
                                        [
                                            1113,
                                            1118
                                        ],
                                        [
                                            1133,
                                            1138
                                        ],
                                        [
                                            1151,
                                            1155
                                        ],
                                        [
                                            1173,
                                            1177
                                        ],
                                        [
                                            1201,
                                            1205
                                        ],
                                        [
                                            1221,
                                            1225
                                        ],
                                        [
                                            1271,
                                            1275
                                        ],
                                        [
                                            1301,
                                            1305
                                        ]
                                    ]
                                },
                                {
                                    "name": "K601他〔八木山動物公園駅-交通局東北大学病院〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144828&arrival=00144353&line=00033089",
                                    "depArrTimeList": [
                                        [
                                            396,
                                            400
                                        ],
                                        [
                                            619,
                                            624
                                        ],
                                        [
                                            799,
                                            804
                                        ],
                                        [
                                            859,
                                            864
                                        ],
                                        [
                                            919,
                                            924
                                        ],
                                        [
                                            933,
                                            938
                                        ],
                                        [
                                            949,
                                            954
                                        ],
                                        [
                                            976,
                                            981
                                        ],
                                        [
                                            1066,
                                            1071
                                        ]
                                    ]
                                },
                                {
                                    "name": "S601他〔八木山動物公園駅-仙台駅前〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144828&arrival=00144353&line=00033090",
                                    "depArrTimeList": [
                                        [
                                            559,
                                            564
                                        ],
                                        [
                                            679,
                                            684
                                        ],
                                        [
                                            739,
                                            744
                                        ],
                                        [
                                            1006,
                                            1011
                                        ],
                                        [
                                            1036,
                                            1041
                                        ],
                                        [
                                            1123,
                                            1128
                                        ],
                                        [
                                            1181,
                                            1185
                                        ],
                                        [
                                            1241,
                                            1245
                                        ],
                                        [
                                            1286,
                                            1290
                                        ]
                                    ]
                                },
                                {
                                    "name": "36〔長町四丁目長町営業所-日赤病院〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144828&arrival=00144353&line=00032943",
                                    "depArrTimeList": [
                                        [
                                            596,
                                            601
                                        ],
                                        [
                                            656,
                                            661
                                        ],
                                        [
                                            836,
                                            841
                                        ]
                                    ]
                                },
                                {
                                    "name": "太白八木山線[宮城交通]",
                                    "shortName": "宮城交通バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144828&arrival=00144353&line=00072451",
                                    "depArrTimeList": [
                                        [
                                            478,
                                            484
                                        ],
                                        [
                                            675,
                                            681
                                        ],
                                        [
                                            735,
                                            741
                                        ],
                                        [
                                            795,
                                            801
                                        ],
                                        [
                                            855,
                                            861
                                        ],
                                        [
                                            915,
                                            921
                                        ],
                                        [
                                            975,
                                            981
                                        ]
                                    ]
                                },
                                {
                                    "name": "八木山動物公園線[宮城交通]",
                                    "shortName": "宮城交通バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144828&arrival=00144353&line=00072461",
                                    "depArrTimeList": [
                                        [
                                            457,
                                            463
                                        ],
                                        [
                                            510,
                                            516
                                        ],
                                        [
                                            576,
                                            582
                                        ],
                                        [
                                            623,
                                            629
                                        ],
                                        [
                                            683,
                                            689
                                        ],
                                        [
                                            743,
                                            749
                                        ],
                                        [
                                            803,
                                            809
                                        ],
                                        [
                                            863,
                                            869
                                        ],
                                        [
                                            936,
                                            942
                                        ],
                                        [
                                            983,
                                            989
                                        ],
                                        [
                                            1052,
                                            1058
                                        ],
                                        [
                                            1119,
                                            1125
                                        ],
                                        [
                                            1169,
                                            1175
                                        ],
                                        [
                                            1228,
                                            1234
                                        ],
                                        [
                                            1248,
                                            1254
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "工学部中央",
                            "edges": [
                                {
                                    "name": "10〔八木山動物公園駅-青葉台〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144828&arrival=00144422&line=00032888",
                                    "depArrTimeList": [
                                        [
                                            469,
                                            476
                                        ],
                                        [
                                            505,
                                            512
                                        ],
                                        [
                                            587,
                                            593
                                        ],
                                        [
                                            649,
                                            655
                                        ],
                                        [
                                            709,
                                            715
                                        ],
                                        [
                                            769,
                                            775
                                        ],
                                        [
                                            829,
                                            835
                                        ],
                                        [
                                            889,
                                            895
                                        ],
                                        [
                                            949,
                                            955
                                        ],
                                        [
                                            1009,
                                            1015
                                        ],
                                        [
                                            1069,
                                            1075
                                        ],
                                        [
                                            1129,
                                            1135
                                        ],
                                        [
                                            1189,
                                            1195
                                        ],
                                        [
                                            1249,
                                            1255
                                        ],
                                        [
                                            1309,
                                            1315
                                        ]
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "工学部中央",
                    "nodes": [
                        {
                            "name": "八木山動物公園駅",
                            "edges": [
                                {
                                    "name": "10〔八木山動物公園駅-青葉台〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144422&arrival=00144827&line=00032888",
                                    "depArrTimeList": [
                                        [
                                            393,
                                            398
                                        ],
                                        [
                                            446,
                                            452
                                        ],
                                        [
                                            506,
                                            513
                                        ],
                                        [
                                            563,
                                            570
                                        ],
                                        [
                                            623,
                                            630
                                        ],
                                        [
                                            683,
                                            689
                                        ],
                                        [
                                            743,
                                            749
                                        ],
                                        [
                                            803,
                                            809
                                        ],
                                        [
                                            863,
                                            869
                                        ],
                                        [
                                            923,
                                            929
                                        ],
                                        [
                                            983,
                                            989
                                        ],
                                        [
                                            1043,
                                            1049
                                        ],
                                        [
                                            1103,
                                            1109
                                        ],
                                        [
                                            1163,
                                            1169
                                        ],
                                        [
                                            1223,
                                            1229
                                        ],
                                        [
                                            1283,
                                            1288
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "八木山動物公園東門前",
                            "edges": [
                                {
                                    "name": "10〔八木山動物公園駅-青葉台〕[仙台市営バス]",
                                    "shortName": "仙台市営バス",
                                    "url": "https://www.navitime.co.jp/bus/diagram/timelist?departure=00144422&arrival=00144828&line=00032888",
                                    "depArrTimeList": [
                                        [
                                            393,
                                            397
                                        ],
                                        [
                                            446,
                                            451
                                        ],
                                        [
                                            506,
                                            511
                                        ],
                                        [
                                            563,
                                            568
                                        ],
                                        [
                                            623,
                                            628
                                        ],
                                        [
                                            683,
                                            687
                                        ],
                                        [
                                            743,
                                            747
                                        ],
                                        [
                                            803,
                                            807
                                        ],
                                        [
                                            863,
                                            867
                                        ],
                                        [
                                            923,
                                            927
                                        ],
                                        [
                                            983,
                                            987
                                        ],
                                        [
                                            1043,
                                            1047
                                        ],
                                        [
                                            1103,
                                            1107
                                        ],
                                        [
                                            1163,
                                            1167
                                        ],
                                        [
                                            1223,
                                            1227
                                        ],
                                        [
                                            1283,
                                            1287
                                        ]
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "八木山動物公園",
                    "nodes": [
                        {
                            "name": "青葉山",
                            "edges": [
                                {
                                    "name": "仙台市営東西線",
                                    "url": "https://www.navitime.co.jp/diagram/depArrTimeList?departure=00009681&arrival=00009677&line=00001241&updown=1",
                                    "depArrTimeList": [
                                        [
                                            335,
                                            338
                                        ],
                                        [
                                            353,
                                            356
                                        ],
                                        [
                                            370,
                                            373
                                        ],
                                        [
                                            383,
                                            386
                                        ],
                                        [
                                            396,
                                            399
                                        ],
                                        [
                                            407,
                                            410
                                        ],
                                        [
                                            417,
                                            420
                                        ],
                                        [
                                            425,
                                            428
                                        ],
                                        [
                                            433,
                                            436
                                        ],
                                        [
                                            440,
                                            443
                                        ],
                                        [
                                            448,
                                            451
                                        ],
                                        [
                                            455,
                                            458
                                        ],
                                        [
                                            461,
                                            464
                                        ],
                                        [
                                            467,
                                            470
                                        ],
                                        [
                                            472,
                                            475
                                        ],
                                        [
                                            477,
                                            480
                                        ],
                                        [
                                            482,
                                            485
                                        ],
                                        [
                                            487,
                                            490
                                        ],
                                        [
                                            493,
                                            496
                                        ],
                                        [
                                            498,
                                            501
                                        ],
                                        [
                                            504,
                                            507
                                        ],
                                        [
                                            509,
                                            512
                                        ],
                                        [
                                            515,
                                            518
                                        ],
                                        [
                                            520,
                                            523
                                        ],
                                        [
                                            526,
                                            529
                                        ],
                                        [
                                            531,
                                            534
                                        ],
                                        [
                                            536,
                                            539
                                        ],
                                        [
                                            541,
                                            544
                                        ],
                                        [
                                            547,
                                            550
                                        ],
                                        [
                                            552,
                                            555
                                        ],
                                        [
                                            558,
                                            561
                                        ],
                                        [
                                            563,
                                            566
                                        ],
                                        [
                                            569,
                                            572
                                        ],
                                        [
                                            577,
                                            580
                                        ],
                                        [
                                            585,
                                            588
                                        ],
                                        [
                                            593,
                                            596
                                        ],
                                        [
                                            601,
                                            604
                                        ],
                                        [
                                            609,
                                            612
                                        ],
                                        [
                                            617,
                                            620
                                        ],
                                        [
                                            625,
                                            628
                                        ],
                                        [
                                            633,
                                            636
                                        ],
                                        [
                                            642,
                                            645
                                        ],
                                        [
                                            652,
                                            655
                                        ],
                                        [
                                            662,
                                            665
                                        ],
                                        [
                                            672,
                                            675
                                        ],
                                        [
                                            682,
                                            685
                                        ],
                                        [
                                            692,
                                            695
                                        ],
                                        [
                                            702,
                                            705
                                        ],
                                        [
                                            712,
                                            715
                                        ],
                                        [
                                            722,
                                            725
                                        ],
                                        [
                                            732,
                                            735
                                        ],
                                        [
                                            742,
                                            745
                                        ],
                                        [
                                            752,
                                            755
                                        ],
                                        [
                                            762,
                                            765
                                        ],
                                        [
                                            772,
                                            775
                                        ],
                                        [
                                            782,
                                            785
                                        ],
                                        [
                                            792,
                                            795
                                        ],
                                        [
                                            802,
                                            805
                                        ],
                                        [
                                            812,
                                            815
                                        ],
                                        [
                                            822,
                                            825
                                        ],
                                        [
                                            832,
                                            835
                                        ],
                                        [
                                            842,
                                            845
                                        ],
                                        [
                                            852,
                                            855
                                        ],
                                        [
                                            862,
                                            865
                                        ],
                                        [
                                            872,
                                            875
                                        ],
                                        [
                                            881,
                                            884
                                        ],
                                        [
                                            889,
                                            892
                                        ],
                                        [
                                            897,
                                            900
                                        ],
                                        [
                                            905,
                                            908
                                        ],
                                        [
                                            913,
                                            916
                                        ],
                                        [
                                            921,
                                            924
                                        ],
                                        [
                                            929,
                                            932
                                        ],
                                        [
                                            937,
                                            940
                                        ],
                                        [
                                            945,
                                            948
                                        ],
                                        [
                                            953,
                                            956
                                        ],
                                        [
                                            961,
                                            964
                                        ],
                                        [
                                            969,
                                            972
                                        ],
                                        [
                                            977,
                                            980
                                        ],
                                        [
                                            985,
                                            988
                                        ],
                                        [
                                            993,
                                            996
                                        ],
                                        [
                                            1000,
                                            1003
                                        ],
                                        [
                                            1006,
                                            1009
                                        ],
                                        [
                                            1012,
                                            1015
                                        ],
                                        [
                                            1018,
                                            1021
                                        ],
                                        [
                                            1024,
                                            1027
                                        ],
                                        [
                                            1030,
                                            1033
                                        ],
                                        [
                                            1036,
                                            1039
                                        ],
                                        [
                                            1042,
                                            1045
                                        ],
                                        [
                                            1048,
                                            1051
                                        ],
                                        [
                                            1054,
                                            1057
                                        ],
                                        [
                                            1060,
                                            1063
                                        ],
                                        [
                                            1066,
                                            1069
                                        ],
                                        [
                                            1072,
                                            1075
                                        ],
                                        [
                                            1078,
                                            1081
                                        ],
                                        [
                                            1084,
                                            1087
                                        ],
                                        [
                                            1090,
                                            1093
                                        ],
                                        [
                                            1096,
                                            1099
                                        ],
                                        [
                                            1102,
                                            1105
                                        ],
                                        [
                                            1108,
                                            1111
                                        ],
                                        [
                                            1114,
                                            1117
                                        ],
                                        [
                                            1120,
                                            1123
                                        ],
                                        [
                                            1126,
                                            1129
                                        ],
                                        [
                                            1132,
                                            1135
                                        ],
                                        [
                                            1138,
                                            1141
                                        ],
                                        [
                                            1144,
                                            1147
                                        ],
                                        [
                                            1150,
                                            1153
                                        ],
                                        [
                                            1156,
                                            1159
                                        ],
                                        [
                                            1162,
                                            1165
                                        ],
                                        [
                                            1168,
                                            1171
                                        ],
                                        [
                                            1174,
                                            1177
                                        ],
                                        [
                                            1180,
                                            1183
                                        ],
                                        [
                                            1186,
                                            1189
                                        ],
                                        [
                                            1192,
                                            1195
                                        ],
                                        [
                                            1198,
                                            1201
                                        ],
                                        [
                                            1204,
                                            1207
                                        ],
                                        [
                                            1210,
                                            1213
                                        ],
                                        [
                                            1216,
                                            1219
                                        ],
                                        [
                                            1224,
                                            1227
                                        ],
                                        [
                                            1232,
                                            1235
                                        ],
                                        [
                                            1240,
                                            1243
                                        ],
                                        [
                                            1248,
                                            1251
                                        ],
                                        [
                                            1256,
                                            1259
                                        ],
                                        [
                                            1264,
                                            1267
                                        ],
                                        [
                                            1272,
                                            1275
                                        ],
                                        [
                                            1280,
                                            1283
                                        ],
                                        [
                                            1288,
                                            1291
                                        ],
                                        [
                                            1296,
                                            1299
                                        ],
                                        [
                                            1304,
                                            1307
                                        ],
                                        [
                                            1312,
                                            1315
                                        ],
                                        [
                                            1320,
                                            1323
                                        ],
                                        [
                                            1328,
                                            1331
                                        ],
                                        [
                                            1336,
                                            1339
                                        ],
                                        [
                                            1344,
                                            1347
                                        ],
                                        [
                                            1352,
                                            1355
                                        ],
                                        [
                                            1360,
                                            1363
                                        ],
                                        [
                                            1372,
                                            1375
                                        ],
                                        [
                                            1385,
                                            1388
                                        ],
                                        [
                                            1398,
                                            1401
                                        ],
                                        [
                                            1411,
                                            1414
                                        ],
                                        [
                                            1427,
                                            1430
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "八木山動物公園駅",
                            "edges": [
                                {
                                    "name": "徒歩",
                                    "duration": 3
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "青葉山",
                    "nodes": [
                        {
                            "name": "八木山動物公園",
                            "edges": [
                                {
                                    "name": "仙台市営東西線",
                                    "url": "https://www.navitime.co.jp/diagram/depArrTimeList?departure=00009677&arrival=00009681&line=00001241&updown=0",
                                    "depArrTimeList": [
                                        [
                                            358,
                                            361
                                        ],
                                        [
                                            371,
                                            374
                                        ],
                                        [
                                            383,
                                            386
                                        ],
                                        [
                                            393,
                                            396
                                        ],
                                        [
                                            402,
                                            405
                                        ],
                                        [
                                            411,
                                            414
                                        ],
                                        [
                                            420,
                                            423
                                        ],
                                        [
                                            428,
                                            431
                                        ],
                                        [
                                            436,
                                            439
                                        ],
                                        [
                                            443,
                                            446
                                        ],
                                        [
                                            450,
                                            453
                                        ],
                                        [
                                            456,
                                            459
                                        ],
                                        [
                                            462,
                                            465
                                        ],
                                        [
                                            467,
                                            470
                                        ],
                                        [
                                            472,
                                            475
                                        ],
                                        [
                                            477,
                                            480
                                        ],
                                        [
                                            483,
                                            486
                                        ],
                                        [
                                            488,
                                            491
                                        ],
                                        [
                                            494,
                                            497
                                        ],
                                        [
                                            499,
                                            502
                                        ],
                                        [
                                            505,
                                            508
                                        ],
                                        [
                                            510,
                                            513
                                        ],
                                        [
                                            516,
                                            519
                                        ],
                                        [
                                            521,
                                            524
                                        ],
                                        [
                                            527,
                                            530
                                        ],
                                        [
                                            532,
                                            535
                                        ],
                                        [
                                            537,
                                            540
                                        ],
                                        [
                                            542,
                                            545
                                        ],
                                        [
                                            548,
                                            551
                                        ],
                                        [
                                            553,
                                            556
                                        ],
                                        [
                                            559,
                                            562
                                        ],
                                        [
                                            565,
                                            568
                                        ],
                                        [
                                            573,
                                            576
                                        ],
                                        [
                                            581,
                                            584
                                        ],
                                        [
                                            589,
                                            592
                                        ],
                                        [
                                            597,
                                            600
                                        ],
                                        [
                                            605,
                                            608
                                        ],
                                        [
                                            613,
                                            616
                                        ],
                                        [
                                            621,
                                            624
                                        ],
                                        [
                                            629,
                                            632
                                        ],
                                        [
                                            637,
                                            640
                                        ],
                                        [
                                            645,
                                            648
                                        ],
                                        [
                                            653,
                                            656
                                        ],
                                        [
                                            663,
                                            666
                                        ],
                                        [
                                            673,
                                            676
                                        ],
                                        [
                                            683,
                                            686
                                        ],
                                        [
                                            693,
                                            696
                                        ],
                                        [
                                            703,
                                            706
                                        ],
                                        [
                                            713,
                                            716
                                        ],
                                        [
                                            723,
                                            726
                                        ],
                                        [
                                            733,
                                            736
                                        ],
                                        [
                                            743,
                                            746
                                        ],
                                        [
                                            753,
                                            756
                                        ],
                                        [
                                            763,
                                            766
                                        ],
                                        [
                                            773,
                                            776
                                        ],
                                        [
                                            783,
                                            786
                                        ],
                                        [
                                            793,
                                            796
                                        ],
                                        [
                                            803,
                                            806
                                        ],
                                        [
                                            813,
                                            816
                                        ],
                                        [
                                            823,
                                            826
                                        ],
                                        [
                                            833,
                                            836
                                        ],
                                        [
                                            843,
                                            846
                                        ],
                                        [
                                            853,
                                            856
                                        ],
                                        [
                                            863,
                                            866
                                        ],
                                        [
                                            873,
                                            876
                                        ],
                                        [
                                            883,
                                            886
                                        ],
                                        [
                                            893,
                                            896
                                        ],
                                        [
                                            901,
                                            904
                                        ],
                                        [
                                            909,
                                            912
                                        ],
                                        [
                                            917,
                                            920
                                        ],
                                        [
                                            925,
                                            928
                                        ],
                                        [
                                            933,
                                            936
                                        ],
                                        [
                                            941,
                                            944
                                        ],
                                        [
                                            949,
                                            952
                                        ],
                                        [
                                            957,
                                            960
                                        ],
                                        [
                                            965,
                                            968
                                        ],
                                        [
                                            973,
                                            976
                                        ],
                                        [
                                            981,
                                            984
                                        ],
                                        [
                                            989,
                                            992
                                        ],
                                        [
                                            995,
                                            998
                                        ],
                                        [
                                            1001,
                                            1004
                                        ],
                                        [
                                            1007,
                                            1010
                                        ],
                                        [
                                            1013,
                                            1016
                                        ],
                                        [
                                            1019,
                                            1022
                                        ],
                                        [
                                            1025,
                                            1028
                                        ],
                                        [
                                            1031,
                                            1034
                                        ],
                                        [
                                            1037,
                                            1040
                                        ],
                                        [
                                            1043,
                                            1046
                                        ],
                                        [
                                            1049,
                                            1052
                                        ],
                                        [
                                            1055,
                                            1058
                                        ],
                                        [
                                            1061,
                                            1064
                                        ],
                                        [
                                            1067,
                                            1070
                                        ],
                                        [
                                            1073,
                                            1076
                                        ],
                                        [
                                            1079,
                                            1082
                                        ],
                                        [
                                            1085,
                                            1088
                                        ],
                                        [
                                            1091,
                                            1094
                                        ],
                                        [
                                            1097,
                                            1100
                                        ],
                                        [
                                            1103,
                                            1106
                                        ],
                                        [
                                            1109,
                                            1112
                                        ],
                                        [
                                            1115,
                                            1118
                                        ],
                                        [
                                            1121,
                                            1124
                                        ],
                                        [
                                            1127,
                                            1130
                                        ],
                                        [
                                            1133,
                                            1136
                                        ],
                                        [
                                            1139,
                                            1142
                                        ],
                                        [
                                            1145,
                                            1148
                                        ],
                                        [
                                            1151,
                                            1154
                                        ],
                                        [
                                            1157,
                                            1160
                                        ],
                                        [
                                            1163,
                                            1166
                                        ],
                                        [
                                            1169,
                                            1172
                                        ],
                                        [
                                            1175,
                                            1178
                                        ],
                                        [
                                            1181,
                                            1184
                                        ],
                                        [
                                            1187,
                                            1190
                                        ],
                                        [
                                            1193,
                                            1196
                                        ],
                                        [
                                            1199,
                                            1202
                                        ],
                                        [
                                            1205,
                                            1208
                                        ],
                                        [
                                            1212,
                                            1215
                                        ],
                                        [
                                            1220,
                                            1223
                                        ],
                                        [
                                            1228,
                                            1231
                                        ],
                                        [
                                            1236,
                                            1239
                                        ],
                                        [
                                            1244,
                                            1247
                                        ],
                                        [
                                            1252,
                                            1255
                                        ],
                                        [
                                            1260,
                                            1263
                                        ],
                                        [
                                            1268,
                                            1271
                                        ],
                                        [
                                            1276,
                                            1279
                                        ],
                                        [
                                            1284,
                                            1287
                                        ],
                                        [
                                            1292,
                                            1295
                                        ],
                                        [
                                            1300,
                                            1303
                                        ],
                                        [
                                            1308,
                                            1311
                                        ],
                                        [
                                            1316,
                                            1319
                                        ],
                                        [
                                            1324,
                                            1327
                                        ],
                                        [
                                            1332,
                                            1335
                                        ],
                                        [
                                            1341,
                                            1344
                                        ],
                                        [
                                            1353,
                                            1356
                                        ],
                                        [
                                            1365,
                                            1368
                                        ],
                                        [
                                            1377,
                                            1380
                                        ],
                                        [
                                            1390,
                                            1393
                                        ],
                                        [
                                            1403,
                                            1406
                                        ],
                                        [
                                            1417,
                                            1420
                                        ],
                                        [
                                            1432,
                                            1435
                                        ],
                                        [
                                            1448,
                                            1451
                                        ]
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ];
            
            display(nodeList);

            // const isHoliday = (shukujitsu, date = new Date()) => shukujitsu && shukujitsu.data.find(row => row[0] === date.toLocaleDateString())?.[1];
            // const day = new Date().getDay();

            // const shukujitsu = JSON.parse(localStorage.getItem("shukujitsu") || "null");
            // const nodeList = JSON.parse(localStorage.getItem(
            //     day === 0 || isHoliday(shukujitsu) ? "nodeList_holiday"
            //     : day === 6 ? "nodeList_saturday"
            //     : "nodeList_weekday"
            // ) || "null");
            // if (nodeList) display(nodeList.data);

            // const shukujitsu_fetched = await (await fetch(
            //     GAS_API_URL
            //     + "?type=shukujitsu"
            //     + "&hash=" + (shukujitsu ? shukujitsu.hash : "")
            // )).json();
            // if (shukujitsu_fetched) localStorage.setItem("shukujitsu", JSON.stringify(shukujitsu_fetched));

            // const nodeList_fetched = await (await fetch(
            //     GAS_API_URL
            //     + "?type=nodeList"
            //     + "&hash=" + (nodeList ? nodeList.hash : "")
            // )).json();
            // if (nodeList_fetched) localStorage.setItem(
            //     day === 0 || isHoliday(shukujitsu_fetched || shukujitsu) ? "nodeList_holiday"
            //     : day === 6 ? "nodeList_saturday"
            //     : "nodeList_weekday",
            //     JSON.stringify(nodeList_fetched)
            // );

            // if (nodeList_fetched || shukujitsu_fetched) display(nodeList_fetched.data);
        };
    </script>
</body>

</html>